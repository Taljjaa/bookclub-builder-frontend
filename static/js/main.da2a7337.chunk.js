(this["webpackJsonpbookclub-builder-frontend"]=this["webpackJsonpbookclub-builder-frontend"]||[]).push([[0],{118:function(e,t,n){e.exports=n(160)},159:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(11),r=n.n(c),l=(n(87),n(42)),i=n(7),u=n(35),s=n.n(u),m="https://bookclub-builder-server.herokuapp.com/api/v1",p={"Content-Type":"application/json",Accepts:"application/json",Authorization:localStorage.getItem("token")},b={login:function(e){return fetch("".concat(m,"/login"),{method:"POST",headers:p,body:JSON.stringify(e)}).then((function(e){return e.json()}))},getCurrentUser:function(){return fetch("".concat(m,"/current_user"),{headers:p}).then((function(e){return e.json()}))},signup:function(e){return fetch("".concat(m,"/users"),{method:"POST",headers:p,body:JSON.stringify({username:e.username,password:e.password,profile_picture:e.picture})}).then((function(e){return e.json()}))}},d=function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),l=Object(i.a)(r,2),u=l[0],m=l[1],p=Object(a.useState)(),b=Object(i.a)(p,2),d=b[0],f=b[1],h=Object(a.useState)(!1),E=Object(i.a)(h,2),g=E[0],v=E[1];return Object(a.useEffect)((function(){return function(){var t,n;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.awrap(fetch(e));case 3:if(200===(t=a.sent).status){a.next=6;break}throw new Error("bad");case 6:return a.next=8,s.a.awrap(t.json());case 8:n=a.sent,c(n),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),f(a.t0);case 15:return a.prev=15,m(!0),a.finish(15);case 18:case"end":return a.stop()}}),null,null,[[0,12,15,18]])}(),function(){m(!1),f()}}),[e,g]),[o,u,{error:d,forceRetry:function(){return v(!g)}}]},f=n(199),h=n(201),E=n(203),g=n(202),v=n(101),j=function(e){return{type:"CURRENT_BOOKCLUB",bookclub:e}},O=function(e){return{type:"UPDATE_USER",users:e}},y=n(6),k=n(196),C=function(e){var t=e.bookclub,n=t.id,a=t.name,c=t.picture,r=t.description,i=t.users,u=Object(y.b)(),s=Object(l.e)(),m=Object(k.a)({card:{minWidth:"30%",maxWidth:"30%",margin:10,"&:hover":{}},media:{height:345,width:"100%",objectFit:"cover"},action:{"&:hover":{}}})();return o.a.createElement(f.a,{className:m.card},o.a.createElement(h.a,{onClick:function(){u(j(e.bookclub)),s.push("/bookclubs/".concat(n))},className:m.action},o.a.createElement(g.a,{className:m.media,component:"img",alt:"".concat(a," bookclub"),image:c,title:a}),o.a.createElement(E.a,null,o.a.createElement(v.a,{variant:"h5",component:"h2"},a),o.a.createElement(v.a,{variant:"body1",color:"textSecondary",component:"p"},r),o.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"".concat(i.length," Member(s)")))))},S=n(93),x=n.n(S),N=function(){var e=d("https://bookclub-builder-server.herokuapp.com/api/v1/bookclubs"),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(l.e)(),r=localStorage.getItem("token"),u=Object(k.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",height:"100%"}})();return r||c.push("/login"),a?o.a.createElement("div",{className:u.root},o.a.createElement("img",{src:x.a,alt:"logo"}),o.a.createElement("div",{className:u.root},n.map((function(e){return o.a.createElement(C,{key:e.id,bookclub:e})})))):null},w=n(219),T=n(209),_=n(210),I=n(204),A=function(e){return{type:"SIGN_IN",user:e}},D=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],m=u[1],p=Object(y.b)();return o.a.createElement("div",null,o.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},o.a.createElement("h1",null,"Login"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),b.login({username:c,password:s}).then((function(t){t.error?console.log(t.error):(p(A(t)),localStorage.setItem("token",t.jwt),e.history.push("/"))}))}},o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(w.a,{required:!0,id:"username",label:"Username",value:c,onChange:function(e){r(e.target.value)},variant:"filled"})),o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(w.a,{required:!0,id:"password",label:"Password",type:"password",value:s,onChange:function(e){m(e.target.value)},variant:"filled"})),o.a.createElement(I.a,{container:!0,justify:"center",alignItems:"center",spacing:2},o.a.createElement(I.a,{item:!0,xs:7,style:{marginTop:5}},o.a.createElement(T.a,{variant:"outlined",type:"submit"},"Submit")),o.a.createElement(I.a,{item:!0,xs:5},o.a.createElement(v.a,null,o.a.createElement(_.a,{href:"/signup"},"Sign Up")))))))},L=n(53),U=n.n(L),P=n(54),R=n.n(P),K=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],m=u[1],p=Object(a.useState)("https://i.imgur.com/VfFU5d8.jpg"),d=Object(i.a)(p,2),f=d[0],h=d[1],E=Object(y.b)(),g={bucketName:"bookclub-photos",region:"us-west-2",accessKeyId:"AKIAJADMBELHQDGUCYIA",secretAccessKey:"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"},v=Object(k.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none",margin:"5px"}}}))();return o.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},o.a.createElement("h1",null,"Sign Up"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),b.signup({username:c,password:s,picture:f}).then((function(t){t.error?console.log(t.error):(E(A(t)),localStorage.setItem("token",t.jwt),e.history.push("/"))}))}},o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(w.a,{required:!0,id:"username",label:"Username",value:c,onChange:function(e){r(e.target.value)},variant:"filled"})),o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(w.a,{required:!0,type:"password",id:"password",label:"Password",value:s,onChange:function(e){m(e.target.value)},variant:"filled"})),o.a.createElement(I.a,{item:!0,xs:12,style:{marginTop:10,marginBottom:10}},o.a.createElement("input",{className:v.input,accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){U.a.uploadFile(e.target.files[0],g).then((function(e){h(e.location)})).catch((function(e){alert(e)}))}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(T.a,{variant:"contained",color:"primary",component:"span",startIcon:o.a.createElement(R.a,null)},"Upload"))),o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))},W=function(e){return{type:"CURRENT_POLL",poll:e}},B=function(e){return{type:"TOGGLE_MODAL_STATUS",open:e}},F=n(211),J=n(94),H=n.n(J),X=function(e){var t=e.option,n=t.id,a=t.google_book_id,c=t.votes,r=d("https://www.googleapis.com/books/v1/volumes/".concat(a)),l=Object(i.a)(r,2),u=l[0],s=l[1],m=Object(y.b)(),p=Object(k.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}))();return s?o.a.createElement(I.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},o.a.createElement(I.a,{item:!0},o.a.createElement(F.a,{variant:"extended",size:"small","aria-label":"add",className:p.margin,onClick:function(){m({type:"CURRENT_BOOK",book:u}),m(B(!0))}},o.a.createElement(H.a,{className:p.extendedIcon}),u.volumeInfo.title)),o.a.createElement(I.a,{item:!0},o.a.createElement("p",null,"Votes: ",c)),o.a.createElement(I.a,{item:!0},o.a.createElement(T.a,{onClick:function(){var e=c+1;fetch("https://bookclub-builder-server.herokuapp.com/api/v1/poll_options/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({increasedVote:e})}).then((function(e){return e.json()})).then((function(e){m(W(e))}))},variant:"contained",color:"primary"},"Vote"))):null},G=function(){var e=Object(k.a)({poll:{border:"1px solid gray",borderRadius:5,width:"55%"}})(),t=Object(y.c)((function(e){return e.poll.poll}));return o.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.poll},o.a.createElement("h1",null,t.name),t.poll_options.length>0&&o.a.createElement(o.a.Fragment,null,t.poll_options.map((function(e){return o.a.createElement(X,{key:e.id,option:e})}))))},q=n(16),M=function(){var e=Object(y.c)((function(e){return e.bookclub.bookclub.id})),t=Object(y.c)((function(e){return e.poll.poll})),n=Object(y.b)(),a=Object(k.a)({btn:{margin:5,color:"white",textDecoration:"none"}})();return o.a.createElement("div",null,!t||t.poll_options.length<1?o.a.createElement(q.b,{to:"/bookclubs/".concat(e,"/poll"),className:a.btn},o.a.createElement(T.a,{variant:"contained",color:"primary",className:a.btn},"Create Poll")):o.a.createElement(T.a,{className:a.btn,variant:"contained",color:"primary",onClick:function(){fetch("https://bookclub-builder-server.herokuapp.com/api/v1/polls/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({active:!1})}).then((function(e){return e.json()})).then((function(e){n({type:"ARCHIVE_POLL"})}))}},"Archive Poll"),o.a.createElement(q.b,{to:"/bookclubs/".concat(e,"/edit"),className:a.btn},o.a.createElement(T.a,{variant:"contained",color:"primary",className:a.btn},"Edit Bookclub")))},V=function(){var e=Object(y.c)((function(e){return e.bookclub.bookclub})),t=Object(y.c)((function(e){return e.auth.user})),n=Object(y.b)(),a=Object(k.a)({btn:{margin:5}})();return o.a.createElement("div",null,e.users.filter((function(e){return e.id===t.id})).length>0?o.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){var a=e.users.findIndex((function(e){return e.id===t.id}));e.users.splice(a,1),fetch("https://bookclub-builder-server.herokuapp.com/api/v1/bookclub_users/id",{method:"DELETE",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({bookclub_id:e.id,user_id:t.id})}).then((function(t){t.error||n(O(e.users))}))},className:a.btn},"Leave Bookclub"):o.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){e.users.push(t),n(O(e.users)),fetch("https://bookclub-builder-server.herokuapp.com/api/v1/bookclub_users",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({bookclub_id:e.id,user_id:t.id})}).then((function(e){return e.json()})).then((function(e){}))},className:a.btn},"Join Bookclub"))},Y=n(220),z=n(99),Q=function(){var e=Object(k.a)((function(e){return{paper:{position:"absolute",top:"10%",left:"10%",overflow:"scroll",height:"100%",display:"block",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(),t=o.a.useState((function(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),n=Object(i.a)(t,1)[0],a=Object(y.b)(),c=Object(y.c)((function(e){return e.book.book})),r=Object(y.c)((function(e){return e.modal.open}));return o.a.createElement("div",null,o.a.createElement(Y.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",onClose:function(){a(B(!1))},open:r},o.a.createElement("div",{style:n,className:e.paper},o.a.createElement("h2",{id:"simple-modal-title"},c?c.volumeInfo.title:null),o.a.createElement("div",{id:"simple-modal-description"},c?o.a.createElement(z.a,{content:c.volumeInfo.description}):null))))},Z=n(222),$=n(212),ee=n(221),te=function(e){e.props;var t=e.match,n=Object(y.c)((function(e){return e.bookclub.bookclub})),c=Object(y.c)((function(e){return e.bookclub.bookclub.users})),r=Object(a.useState)(""),u=Object(i.a)(r,2),s=u[0],m=u[1],p=Object(a.useState)(!1),b=Object(i.a)(p,2),d=b[0],f=b[1],h=Object(y.b)(),E=Object(y.c)((function(e){return e.poll.poll})),g=Object(y.c)((function(e){return e.auth.user})),v=Object(l.e)(),j=localStorage.getItem("token"),O=Object(k.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",marginLeft:25,marginRight:25},image:{height:"40%",width:"40%"}})();if(Object(a.useEffect)((function(){fetch("https://bookclub-builder-server.herokuapp.com/api/v1/bookclubs/".concat(t.params.id)).then((function(e){return e.json()})).then((function(e){m(e),h(W(e.poll[0]))})).finally((function(){f(!0)}))}),[t.params.id]),j&&g.id||v.push("/login"),!d)return null;var C=n.name,S=n.description,x=n.picture;return o.a.createElement("div",null,o.a.createElement("div",{className:O.root},o.a.createElement("h1",null,C),s.bookclub.bookclub_users[0].is_admin===g.id?o.a.createElement(M,null):o.a.createElement(V,null),o.a.createElement("img",{src:x,alt:"bookclub",className:O.image}),o.a.createElement("h1",null,"Members"),o.a.createElement($.a,null,c.map((function(e){return o.a.createElement(ee.a,{title:e.username},o.a.createElement(Z.a,{alt:e.username,src:e.profile_picture,key:e.id}))}))),o.a.createElement("p",null,S),E&&n.users.filter((function(e){return e.id===g.id})).length>0?o.a.createElement(G,null):null),o.a.createElement(Q,null))},ne=n(216),ae=function(){var e=Object(y.c)((function(e){return e.bookclub.bookclub})),t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],u=Object(y.b)(),s=Object(l.e)();return o.a.createElement("div",null,o.a.createElement(ne.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},o.a.createElement("h1",null,"Create Poll for ",e.name),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),fetch("https://bookclub-builder-server.herokuapp.com/api/v1/polls",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({name:c,bookclub_id:e.id})}).then((function(e){return e.json()})).then((function(t){u({type:"CREATE_POLL",poll:t}),s.push("/bookclubs/".concat(e.id,"/").concat(t.id,"/options"))}))}},o.a.createElement(ne.a,null,o.a.createElement(w.a,{autoComplete:"off",required:!0,id:"title",label:"Title",value:c,onChange:function(e){r(e.target.value)},variant:"filled",style:{marginTop:"5px",marginBottom:"5px"}})),o.a.createElement(ne.a,null,o.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary"},"Submit")))))},oe=function(){var e=Object(y.c)((function(e){return e.bookclub.bookclub.id})),t=Object(l.e)(),n=Object(y.b)(),c=Object(a.useState)(Object(y.c)((function(e){return e.bookclub.bookclub.picture}))),r=Object(i.a)(c,2),u=r[0],s=r[1],m=Object(a.useState)(Object(y.c)((function(e){return e.bookclub.bookclub.name}))),p=Object(i.a)(m,2),b=p[0],d=p[1],f=Object(a.useState)(Object(y.c)((function(e){return e.bookclub.bookclub.description}))),h=Object(i.a)(f,2),E=h[0],g=h[1],v=Object(k.a)((function(e){return{input:{display:"none"},margin:{margin:"5px"},image:{height:"50%",width:"50%"}}}))(),O={bucketName:"bookclub-photos",region:"us-west-2",accessKeyId:"AKIAJADMBELHQDGUCYIA",secretAccessKey:"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"};return o.a.createElement("div",null,o.a.createElement(ne.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"5px"},o.a.createElement("form",{onSubmit:function(a){a.preventDefault(),fetch("https://bookclub-builder-server.herokuapp.com/api/v1/bookclubs/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({name:b,picture:u,description:E})}).then((function(e){return e.json()})).then((function(a){console.log(a),n(j(a)),t.push("/bookclubs/".concat(e))}))}},o.a.createElement(ne.a,{display:"flex",justifyContent:"center"},o.a.createElement(ne.a,{className:v.margin},o.a.createElement(w.a,{required:!0,id:"name",label:"Name",value:b,onChange:function(e){d(e.target.value)},variant:"filled"})),o.a.createElement(ne.a,{className:v.margin},o.a.createElement(w.a,{required:!0,id:"description",label:"Description",value:E,onChange:function(e){g(e.target.value)},variant:"filled"}))),o.a.createElement(ne.a,{display:"flex",justifyContent:"center"},o.a.createElement("img",{src:u,alt:"bookclub",style:{maxHeight:"100vh",maxWidth:"100vh"}})),o.a.createElement(ne.a,{display:"flex",justifyContent:"center"},o.a.createElement(ne.a,{className:v.margin},o.a.createElement("input",{className:v.input,accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){U.a.uploadFile(e.target.files[0],O).then((function(e){s(e.location)})).catch((function(e){alert(e)}))}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(T.a,{variant:"contained",color:"primary",component:"span",startIcon:o.a.createElement(R.a,null)},"Upload"))),o.a.createElement(ne.a,{className:v.margin},o.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))))},ce=n(213),re=n(214),le=function(){var e=Object(y.c)((function(e){return e.auth.user.id})),t=Object(l.e)(),n=Object(y.b)(),a=Object(k.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},links:{color:"white",textDecoration:"none"}}}))();return o.a.createElement("div",null,e?o.a.createElement(ce.a,{position:"static"},o.a.createElement(re.a,null,o.a.createElement(q.b,{to:"/",className:a.links},o.a.createElement(T.a,{color:"inherit"},"Home")),o.a.createElement(q.b,{to:"/".concat(e,"/bookclubs"),className:a.links},o.a.createElement(T.a,{color:"inherit"},"My Bookclubs")),o.a.createElement(q.b,{to:"/bookclubs",className:a.links},o.a.createElement(T.a,{color:"inherit"},"Create Bookclub")),o.a.createElement(T.a,{color:"inherit",onClick:function(){n({type:"SIGN_OUT"}),t.push("/login")}},"Logout"))):o.a.createElement(ce.a,{position:"static"},o.a.createElement(re.a,null,o.a.createElement(q.b,{to:"/",className:a.links},o.a.createElement(T.a,{color:"inherit"},"Home")),o.a.createElement(q.b,{to:"/login",className:a.links},o.a.createElement(T.a,{color:"inherit"},"Login")))))},ie=function(){var e=Object(y.c)((function(e){return e.auth.user.id})),t=Object(l.e)(),n=Object(a.useState)("https://i.imgur.com/WXw2KKe.jpg"),c=Object(i.a)(n,2),r=c[0],u=c[1],s=Object(a.useState)(""),m=Object(i.a)(s,2),p=m[0],b=m[1],d=Object(a.useState)(""),f=Object(i.a)(d,2),h=f[0],E=f[1],g={bucketName:"bookclub-photos",region:"us-west-2",accessKeyId:"AKIAJADMBELHQDGUCYIA",secretAccessKey:"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"},v=Object(k.a)((function(e){return{input:{display:"none"},margin:{margin:"5px"},image:{height:"50%",width:"50%"}}}))();return o.a.createElement("div",null,o.a.createElement(ne.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"5px"},o.a.createElement("h1",null,"Create Bookclub"),o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),fetch("https://bookclub-builder-server.herokuapp.com/api/v1/bookclubs",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({name:p,picture:r,description:h,id:e})}).then((function(e){return e.json()})).then((function(e){t.push("/")}))}},o.a.createElement(ne.a,{display:"flex",justifyContent:"center"},o.a.createElement(ne.a,{className:v.margin},o.a.createElement(w.a,{required:!0,id:"name",label:"Name",value:p,onChange:function(e){b(e.target.value)},variant:"filled"})),o.a.createElement(ne.a,{className:v.margin},o.a.createElement(w.a,{required:!0,id:"description",label:"Description",value:h,onChange:function(e){E(e.target.value)},variant:"filled"}))),o.a.createElement(ne.a,{display:"flex",justifyContent:"center",className:v.margin},o.a.createElement("img",{src:r,alt:"bookclub",style:{maxHeight:"100vh",maxWidth:"100vh"}})),o.a.createElement(ne.a,{display:"flex",justifyContent:"center"},o.a.createElement(ne.a,{className:v.margin},o.a.createElement("input",{className:v.input,accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){U.a.uploadFile(e.target.files[0],g).then((function(e){u(e.location)})).catch((function(e){alert(e)}))}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(T.a,{variant:"contained",color:"primary",component:"span",startIcon:o.a.createElement(R.a,null)},"Upload"))),o.a.createElement(ne.a,{className:v.margin},o.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))))},ue=function(){var e=Object(y.c)((function(e){return e.auth.user.id})),t=d("https://bookclub-builder-server.herokuapp.com/api/v1/".concat(e,"/bookclubs")),n=Object(i.a)(t,2),a=n[0],c=n[1],r=localStorage.getItem("token"),u=Object(l.e)(),s=Object(k.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",height:"100%"}})();return r||u.push("/login"),c?o.a.createElement("div",null,o.a.createElement("h1",null,"MyBookClubs"),o.a.createElement("div",{className:s.root},a.map((function(e){return o.a.createElement(C,{key:e.id,bookclub:e})})))):null},se=function(e){var t=Object(y.c)((function(e){return e.poll.poll})),n=Object(y.b)(),a=Object(k.a)({card:{minWidth:"30%",maxWidth:"30%",margin:10},media:{height:345,width:"100%",objectFit:"contain"}})();return o.a.createElement(f.a,{className:a.card},o.a.createElement(h.a,{onClick:function(){fetch("https://bookclub-builder-server.herokuapp.com/api/v1/polls/".concat(t.id,"/options"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({google_book_id:e.option.id,poll_id:t.id,votes:0})}).then((function(e){return e.json()})).then((function(t){n({type:"CREATE_OPTION",option:e.option}),e.notify("".concat(e.option.volumeInfo.title))}))},className:a.action},o.a.createElement(g.a,{className:a.media,component:"img",alt:"".concat(e.option.volumeInfo.title," book"),height:"140",image:e.option.volumeInfo.imageLinks.smallThumbnail,title:e.option.volumeInfo.title}),o.a.createElement(E.a,null,o.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.option.volumeInfo.title),o.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},e.option.volumeInfo.description))))},me=n(97),pe=n.n(me),be=n(215),de=n(223),fe=n(207),he=n(217),Ee=n(71),ge=(n(158),n(159),function(){var e=Object(y.c)((function(e){return e.poll.poll})),t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)("inauthor"),u=Object(i.a)(l,2),s=u[0],m=u[1],p=Object(a.useState)(""),b=Object(i.a)(p,2),d=b[0],f=b[1],h=Object(k.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",height:"100%"},card:{minWidth:"30%",maxWidth:"30%",margin:10},media:{height:345,width:"100%",objectFit:"cover"}})(),E=function(e){Ee.c.success("Added ".concat(e," to poll options"))};return o.a.createElement("div",null,o.a.createElement(ne.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},o.a.createElement("h1",null,e.name),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(s,":").concat(d,"&maxResults=6&key=AIzaSyA39gVxErny8CXc27ySrZefMllAWF_det4")).then((function(e){return e.json()})).then((function(e){r(e.items)}))}},o.a.createElement(ne.a,null,o.a.createElement(w.a,{autoComplete:"off",id:"search",label:"Search",value:d,onChange:function(e){f(e.target.value)},InputProps:{startAdornment:o.a.createElement(be.a,{position:"start"},o.a.createElement(pe.a,null))}})),o.a.createElement(ne.a,null,o.a.createElement(fe.a,{variant:"filled",style:{width:"100%"}},o.a.createElement(he.a,{labelId:"Search",id:"search",onChange:function(e){m(e.target.value)},autoWidth:!0},o.a.createElement(de.a,{value:""},o.a.createElement("em",null,"None")),o.a.createElement(de.a,{value:"inauthor"},"Author"),o.a.createElement(de.a,{value:"intitle"},"Title")))),o.a.createElement(ne.a,null,o.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"5px"}},"Submit")))),o.a.createElement(Ee.b,{autoClose:8e3,transition:Ee.a}),o.a.createElement("div",{className:h.root},c.map((function(e){return o.a.createElement(se,{key:e.id,option:e,searchId:e.id,notify:E})}))))}),ve=function(e){return o.a.createElement("div",null,o.a.createElement(le,null),o.a.createElement(l.a,{exact:!0,path:"/",render:function(){return o.a.createElement(N,null)}}),o.a.createElement(l.a,{exact:!0,path:"/login",render:function(e){return o.a.createElement(D,e)}}),o.a.createElement(l.a,{exact:!0,path:"/signup",render:function(e){return o.a.createElement(K,e)}}),o.a.createElement(l.a,{exact:!0,path:"/bookclubs/:id",render:function(e){return o.a.createElement(te,e)}}),o.a.createElement(l.a,{exact:!0,path:"/bookclubs/:id/poll",render:function(e){return o.a.createElement(ae,e)}}),o.a.createElement(l.a,{exact:!0,path:"/bookclubs/:id/:poll_id/options",render:function(e){return o.a.createElement(ge,e)}}),o.a.createElement(l.a,{exact:!0,path:"/bookclubs/:id/edit",render:function(e){return o.a.createElement(oe,e)}}),o.a.createElement(l.a,{exact:!0,path:"/bookclubs",render:function(e){return o.a.createElement(ie,e)}}),o.a.createElement(l.a,{exact:!0,path:"/:id/bookclubs",render:function(e){return o.a.createElement(ue,e)}}))},je=n(98),Oe=n(218),ye=Object(je.a)({typography:{fontFamily:["Playfair Display","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}});var ke=function(){return o.a.createElement(Oe.a,{theme:ye},o.a.createElement(q.a,{basename:"/"},o.a.createElement(ve,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=n(50),Se=n(34),xe=n(20),Ne=Object(Ce.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(Se.a)({},e,{user:t.user});case"SIGN_OUT":return Object(Se.a)({},e,{user:{}});default:return e}},bookclub:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_BOOKCLUB":return{bookclub:t.bookclub};case"UPDATE_USER":return Object(Se.a)({},e,{bookclub:Object(Se.a)({},e.bookclub,{users:t.users})});default:return e}},poll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{poll_options:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POLL":return{poll:Object(Se.a)({},t.poll,{option:[]})};case"CREATE_OPTION":return{poll:Object(Se.a)({},e.poll,{option:[].concat(Object(xe.a)(e.poll.option),[t.option])})};case"CURRENT_POLL":return{poll:t.poll};case"ARCHIVE_POLL":return{poll:{poll_options:[]}};default:return e}},book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_BOOK":return{book:t.book};default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MODAL_STATUS":return{open:t.open};default:return e}}}),we=Object(Ce.c)(Ne,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(o.a.createElement(y.a,{store:we},o.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,n){},93:function(e,t,n){e.exports=n.p+"static/media/logo.20cf9821.png"}},[[118,1,2]]]);
//# sourceMappingURL=main.da2a7337.chunk.js.map